<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>正则表达式</title>
</head>
<body>

<script type="text/javascript">
    'use strict'
    // 构建正则表达式
    const regex = /ab+c/;
    const regex_2 = /^[a-zA-Z]+[0-9]*\W?_$/gi;

    let regex_3 = new RegExp('ab+c');
    let regex_4 = new RegExp(/^[a-zA-Z]+[0-9]*\W?_$/, 'gi');
    let regex_5 = new RegExp('^[a-zA-Z]+[0-9]*\\W?_$', 'gi');

    const regex_6 = /(foo) (bar) \1 \2/ ;
    const regex_7 = /(foo) (bar) $1 $2/ ;
    let str = 'foo bar foo bar';
    let re = str.match(regex_6);
    let re_2 = regex_6.exec(str);
    let re_3 = regex_6.test(str);
    let re_4 = str.search(regex_6);
    let re_5 = str.replace(regex_7, function (v) { return v.substring(0, v.length - 1); });
    let re_6 = str.split(/ /);

    console.log(re);
    console.log(re_2);
    console.log(re_3);
    console.log(re_4);
    console.log(re_5);
    console.log(re_6);

    const regex_8 = /(?:foo){1,2}/;
    const regex_9 = /foo{1,2}/;
    let str_2 = 'foo';
    let re_7 = str_2.match(regex_8);
    let re_8 = str_2.match(regex_8);

    console.log(re_7);
    console.log(re_8);

    // 正向肯定查找
    const regex_10 = /fuck(?= you)/;
    let str_3 = 'Hey, fuck you';
    let str_4 = 'Hey, fuck u';
    let re_9 = str_3.match(regex_10);
    let re_10 = str_4.match(regex_10);

    console.log(re_9); // ["fuck", index: 5, input: "Hey, fuck you"]
    console.log(re_10); // null

    // 正向否定查找
    let str_5 = '3.141';
    console.log(/\d+(?!\.)/.exec(str_5)); // ["141", index: 2, input: "3.141"]
    console.log(/\d(?!\.)/.exec(str_5));

    let str_6 = 'candy',
        str_7 = 'caandy',
        str_8 = 'caaandy';
    console.log(/a{2}/.exec(str_6)); // null
    console.log(/a{2}/.exec(str_7)); // ["aa", index: 1, input: "caandy"]
    console.log(/a{2}/.exec(str_8)); // ["aa", index: 1, input: "caaandy"]

    let str_9 = 'caaaaaaandy';
    console.log(/a{1,3}/.exec(str_6)); // ["a", index: 1, input: "candy"]
    console.log(/a{1,3}/.exec(str_7)); // ["aa", index: 1, input: "caandy"]
    console.log(/a{1,3}/.exec(str_8)); // ["aaa", index: 1, input: "caaandy"]
    console.log(/a{1,3}/.exec(str_9)); // ["aaa", index: 1, input: "caaaaaaandy"]


    let str_10 = 'test.i.ng',
        str_11 = 'xx.com/abc?a=\\b';
    console.log(/[a-z.]+/.exec(str_10)); // ["test.i.ng", index: 0, input: "test.i.ng"]
    console.log(/[\w.]+/.exec(str_10)); // ["test.i.ng", index: 0, input: "test.i.ng"]
    console.log(/[\w.]+/.exec(str_11)); // ["xx.com", index: 0, input: "xx.com/abc?a=\b"]
    console.log(/[\w./]+/.exec(str_11)); // ["xx.com/abc", index: 0, input: "xx.com/abc?a=\b"]
    console.log(/[\w.\/]+/.exec(str_11)); // ["xx.com/abc", index: 0, input: "xx.com/abc?a=\b"]
    console.log(/[\w.\/?=]+/.exec(str_11)); // ["xx.com/abc?a=", index: 0, input: "xx.com/abc?a=\b"]
    console.log(/[\w.\\/?=]+/.exec(str_11)); // ["xx.com/abc?a=\b", index: 0, input: "xx.com/abc?a=\b"]


    let str_12 = 'brisket';
    console.log(/[^a-c]/.exec(str_12)); // ["r", index: 1, input: "brisket"]
    console.log(/[^a-c]+/.exec(str_12)); // ["risket", index: 1, input: "brisket"]

    console.warn('====================');


    let str_13 = 'moon';

    console.log(/\bm/.exec(str_13)); // ["m", index: 0, input: "moon"]
    console.log(/oo\b/.exec(str_13)); // null
    console.log(/oon\b/.exec(str_13)); // ["oon", index: 1, input: "moon"]
    console.log(/\w\b\w/.exec(str_13)); // null

    let str_14 = 'noonday',
        str_15 = 'possibly yesterday';

    console.log(/\B../.exec(str_14)); // ["oo", index: 1, input: "noonday"]
    console.log(/y\B/.exec(str_15)); // ["y", index: 9, input: "possibly yesterday"]

    let str_16 = 'B2 is the suite number 3dm.';

    console.log(/\d/.exec(str_16)); // ["2", index: 1, input: "B2 is the suite number 3dm."]

    console.log(/\D/.exec(str_16)); // ["B", index: 0, input: "B2 is the suite number 3dm."]


    console.log(/\f/.exec('123\f')); // ["", index: 3, input: "123"]
    console.log(/\n/.exec('123\n')); // ["↵", index: 3, input: "123↵"]
    console.log(/\r/.exec('123\r')); // ["", index: 3, input: "123"]
    console.log(/\s\w*/.exec('foo bar')); // [" bar", index: 3, input: "foo bar"]
    console.log(/\S\w*/.exec('foo bar')); // ["foo", index: 0, input: "foo bar"]



    console.log(/\w/.exec('apple')); // ["a", index: 0, input: "apple"]
    console.log(/\w/.exec('$5.28')); // ["5", index: 1, input: "$5.28"]
    console.log(/\w*/.exec('3D.')); // ["3D", index: 0, input: "3D."]
    console.log(/\W/.exec('12%')); // ["%", index: 2, input: "12%"]

    console.log(/apple(,)\sorange\1/.exec('apple, orange, cherry, peach'));
    // ["apple, orange,", ",", index: 0, input: "apple, orange, cherry, peach"]

</script>
</body>
</html>